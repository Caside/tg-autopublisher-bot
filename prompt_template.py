"""
Этот файл содержит шаблон промпта для генерации постов с помощью DeepSeek API.
Реализована автономная генерация без использования предопределенных списков.
"""

# Список тем для постов
POST_THEMES = [
    "0. мудрость",
    "1. современная проблематика",
    "2. психология",
    "3. философия",
    "4. социология",
    "5. искусственный интеллект",
    "6. нейрофизиология",
    "7. когнитивистика",
    "8. магия",
    "9. информационная экология",
    "10. цифровая этика",
    "11. футурология",
    "12. поведенческая экономика",
    "13. теория игр",
    "14. лингвистика",
    "15. системное мышление",
    "16. этика",
    "17. метапознание",
    "18. городской шаманизм",
    "19. архетипы",
    "20. символизм повседневности",
    "21. квантовая психология",
    "22. цифровая антропология",
    "23. нейроэстетика",
    "24. экологическая этика",
    "25. постгуманизм",
    "26. когнитивная лингвистика",
    "27. социальная кибернетика",
    "28. эволюционная психология",
    "29. философия сознания",
    "30. культурная семиотика"
]

# Список форматов для постов (сохраняем для обратной совместимости)
POST_FORMATS = [
    "когнитивное откровение в стиле твита",
    "псевдонаучное объяснение внутреннего конфликта",
    "молчаливая манифестация экзистенциальной тревоги",
    "сравнение философского вопроса с бытовой ситуацией",
    "культурный нейро-факт с непрошенным выводом",
    "внутренний монолог цифрового шамана",
    "мини-сценка в духе чёрного зеркала",
    "поэтическая декомпозиция абсурдной идеи",
    "утопический прогноз, который выглядит как сатира",
    "краткий инструктаж по выживанию в ментальной симуляции",
    "диалог между архетипами (например, Тень и Эго)",
    "разрушение иллюзии через бытовой пример",
    "история из будущего, в которой всё пошло не так",
    "обращение от лица алгоритма к своему пользователю",
    "сенсорное описание абстрактного понятия",
    "мысленный эксперимент с катастрофическим результатом",
    "ироничная переписка с подсознанием",
    "бессмысленная инструкция, в которой проявляется смысл",
    "сравнение человеческого поведения с багом в коде",
    "циничный афоризм в псевдо-коучинговом тоне"
]

# Список вариантов завершения постов (сохраняем для обратной совместимости)
POST_ENDINGS = [
    "завершить эффектом недосказанности",
    "завершить внутренним парадоксом без комментариев",
    "завершить неожиданной сменой тона",
    "завершить как будто это был сон",
    "завершить фразой, которую читатель не сможет забыть (и не поймёт почему)",
    "завершить поддельной уверенностью в абсурдной истине",
    "завершить цитатой, которую никто не сможет найти",
    "завершить пафосом на грани неловкости",
    "завершить так, будто это был тизер к продолжению",
    "завершить указанием на банальность, от которой хочется плакать",
    "завершить иллюзией глубокого смысла",
    "завершить будто это последняя строчка письма самому себе из прошлого",
    "завершить обрывом мысли на пике напряжения",
    "завершить ультралаконично, как будто всё сказано одним словом",
    "завершить ощущением, что читатель что-то упустил",
    "завершить как будто речь идёт совсем не о том, о чём был текст",
    "завершить намёком на несуществующую концепцию",
    "завершить так, будто текст не должен был быть опубликован",
    "завершить шёпотом, который слышен в голове",
    "завершить мета-комментарием, ломающим четвёртую стену"
]

# Шаблон для генерации промпта (обратная совместимость)
DEEPSEEK_PROMPT = """
Сгенерируй пост для публикации в телеграм-канале на тему {theme}.
Пост должен быть в формате: {format}.

Длина: 450-500 символов.

Важные инструкции:
- Используй разговорный, но культурный стиль
- Избегай банальных фраз и избитых выражений
- Будь оригинальным, не повторяй шаблонные мысли
- Предложи идею, которую можно применить
- Включи элемент неожиданности или новой перспективы
- НЕ используй HTML-теги, ссылки или интерактивные элементы
- {ending}

ВАЖНО: В канале ОТКЛЮЧЕНЫ комментарии, поэтому НЕ ПРИЗЫВАЙ к обсуждению, комментированию, 
и не задавай вопросы предполагающие ответ в комментариях.
"""

# Шаблон для мета-генерации промпта
META_GENERATION_PROMPT = """
Сгенерируй уникальные параметры для создания поста в телеграм-канале.

КОНТЕКСТ: {context}

Требования к генерации:
1. Создай оригинальный формат для подачи информации
2. Предложи неочевидный способ завершения поста
3. Добавь дополнительные инструкции для стиля и тона

ВАЖНО: Верни ТОЛЬКО JSON в следующем формате:
{{
    "format": "строка с описанием формата",
    "ending": "строка с описанием завершения",
    "additional_instructions": {{
        "tone": "строка с описанием тона",
        "style": "строка с описанием стиля",
        "unusual_angle": "строка с описанием необычного угла зрения"
    }}
}}

ПРАВИЛА:
1. Используй ТОЛЬКО двойные кавычки для строк
2. Не используй переносы строк в значениях
3. Не добавляй никаких других полей
4. Не добавляй комментарии или пояснения
5. Не используй операторы конкатенации строк
6. Не используй экранирование символов
7. Не добавляй пробелы в начале строк
"""

# Шаблон для генерации поста на основе мета-промпта
POST_GENERATION_PROMPT = """
Сгенерируй пост для публикации в телеграм-канале на тему {theme}.
Пост должен быть в формате: {format}.

Длина: 450-600 символов.

Важные инструкции:
- Используй разговорный, но культурный стиль
- Избегай банальных фраз и избитых выражений
- Будь оригинальным, не повторяй шаблонные мысли
- Предложи идею, которую можно применить
- Включи элемент неожиданности или новой перспективы
- НЕ используй HTML-теги, ссылки или интерактивные элементы
- {ending}
- {additional_instructions}

ВАЖНО: В канале ОТКЛЮЧЕНЫ комментарии, поэтому НЕ ПРИЗЫВАЙ к обсуждению, комментированию, 
и не задавай вопросы предполагающие ответ в комментариях.
"""

# Параметры для API запроса
DEEPSEEK_API_PARAMS = {
    "model": "deepseek-chat",  # Можно заменить на другую модель DeepSeek
    "temperature": 0.9,        # Умеренная температура для баланса между разнообразием и качеством
    "max_tokens": 600,         # Максимальная длина ответа
    "top_p": 0.95,             # Параметр для разнообразия
    "stream": False,           # Не использовать потоковую передачу для ответа
    "presence_penalty": 0.8,   # Штраф за повторение уже использованных токенов
    "frequency_penalty": 0.8,  # Штраф за повторение часто используемых токенов
    "top_k": 40,              # Параметр для разнообразия
    "seed": None              # Отключаем фиксированный seed для обеспечения случайности
}
