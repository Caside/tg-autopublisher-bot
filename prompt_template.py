"""
Этот файл содержит шаблон промпта для генерации постов с помощью DeepSeek API.
Вы можете изменить его в соответствии с вашими потребностями.
"""

import random

# Список форматов для постов
POST_FORMATS = [
    "абсурдный диалог",
    "письмо из будущего",
    "инструктаж для выжившего",
    "памятка для забывшего",
    "переписка с самим собой",
    "черновик ответа без получателя",
    "воспоминание о том, чего не было",
    "уличный монолог",
    "монолог под фонарь",
    "гипнотический фрагмент",
    "приглушённый транс",
    "перевод с языка внутреннего зверя",
    "фрагмент сна, который придумался днём",
    "цифровая баллада",
    "раскопки смысла",
    "эмоциональный рапорт",
    "внутренний манифест",
    "запретный манифест",
    "фрагмент интервью с отсутствующим",
    "пауза из пьесы без актёров",
    "микро-ритуал",
    "расшифровка забытых символов",
    "заметка к грядущему событию, которое не случится",
    "мышление как спектакль",
    "отрывок из рецензии на несуществующее",
    "монолог объекта",
    "запись из чёрного ящика сознания",
    "инструкция по разрушению",
    "анонимное признание",
    "голос из сломанного времени"
]

# Список вариантов завершения постов (без призывов к комментированию)
POST_ENDINGS = [
    "погрузи в тишину",
    "заткни мысль",
    "оставь читателя на краю",
    "обруби мысль на пике",
    "сделай вывод слишком тихим",
    "заставь ощутить дрожь",
    "обмани причинность",
    "всыпь хаос в последнюю строчку",
    "выскажи невозможное",
    "погаси свет",
    "напиши так, будто время свернулось",
    "предложи шепот вместо вывода",
    "оставь пустоту",
    "заверши молчанием",
    "закончи с намеком",
    "разрежь мысль на части",
    "отправь читателя в лабиринт",
    "представь, что ты исчез",
    "прерви повествование",
    "дай понять, что всё уже произошло",
    "обратись напрямую к подсознанию",
    "испарись",
    "оставь ощущение недосказанности",
    "сделай финал физически ощутимым",
    "нарушь внутренний ритм",
    "заставь пересчитать строки"
]

# Шаблон для генерации постов
DEEPSEEK_PROMPT = """
Сгенерируй оригинальный авторский пост для телеграм-канала.

Формат подачи: {format}  
Внутренние мотивы для вдохновения: {keywords}

Основные задачи:
- Придумай выразительный, поэтичный или визуально ёмкий заголовок
- Он может быть фразой, метафорой, обрывком мысли или необычным образом
- Не используй формат или ключевые слова дословно в заголовке
- Заголовок должен привлекать внимание и вызывать эмоциональный резонанс

Работа с мотивами:
- Ключевые слова — это эмоциональные и смысловые импульсы
- Пусть они задают настроение, контекст и глубинную динамику текста
- Не упоминай их напрямую — они должны звучать как внутренний фон

Стилистические инструкции:
- Стиль: образный, многослойный, с элементами неожиданности и эмоций, но без избыточного абсурда
- Можно использовать нестандартную форму подачи (например, исповедь, диалог, инструкцию), но только если она усиливает смысл
- Пост должен передавать одну чёткую мысль, наблюдение или внутреннее открытие
- Используй метафоры и образы умеренно, только если они добавляют глубину, а не запутывают
- Можешь нарушать линейность, но текст должен быть читаемым и цельным
- Добавь один запоминающийся образ или контраст, не обязательно странный
- Не бойся пауз и недосказанности — но не превращай текст в ребус
- Выбери внутренний голос повествования: он может быть спокойным, уставшим, удивлённым, ироничным или тихо тревожным

Форматирование:
- Используй HTML-формат:
  - Заголовок выделяй тегом <b>
  - Важные термины и ключевые моменты выделяй тегом <i>

Заверши пост приёмом: {ending}

Длина поста: 450–600 символов

ВАЖНО: В канале отключены комментарии. Не призывай к обсуждению, не задавай вопросы, предполагающие ответ от читателя.
"""

# Диапазоны параметров для API запроса
DEEPSEEK_API_PARAM_RANGES = {
    "temperature": (0.7, 1.0),        # Диапазон температуры для разнообразия
    "top_p": (0.9, 0.98),             # Диапазон top_p для разнообразия
    "presence_penalty": (0.5, 0.9),   # Диапазон штрафа за присутствие
    "frequency_penalty": (0.6, 1.0)   # Диапазон штрафа за частоту
}

# Базовые параметры для API запроса
DEEPSEEK_API_PARAMS = {
    "model": "deepseek-chat",  # Можно заменить на другую модель DeepSeek
    "max_tokens": 600,         # Уменьшенная максимальная длина ответа
    "stream": False,           # Не использовать потоковую передачу для ответа
}
