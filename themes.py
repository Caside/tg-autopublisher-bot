"""
Модуль для управления темами постов.
Темы могут быть загружены из переменных окружения или использованы по умолчанию.
"""

import os
import json

# Темы по умолчанию
DEFAULT_THEMES = [
    "человеческая усталость",
    "страх будущего",
    "культурные реликты в цифровую эпоху",
    "цифровое одиночество",
    "границы сознания",
    "информационный голод",
    "эмоциональное выгорание",
    "виртуальная интимность",
    "заброшенные смыслы",
    "психогеография города",
    "вера как паттерн",
    "магическое мышление XXI века",
    "память как тюрьма",
    "ревность алгоритмов",
    "эстетика тревоги",
    "вина и нейросети",
    "непрожитая жизнь",
    "тоска как культурная норма",
    "экзистенциальный шум",
    "ментальные подземелья"
]

def get_themes():
    """
    Получает темы из переменной окружения POST_THEMES или возвращает темы по умолчанию.
    Если POST_THEMES установлена, она должна быть JSON-строкой с массивом тем.
    """
    themes_env = os.getenv('POST_THEMES')
    if themes_env:
        try:
            return json.loads(themes_env)
        except json.JSONDecodeError:
            print("Ошибка: POST_THEMES содержит некорректный JSON. Используются темы по умолчанию.")
            return DEFAULT_THEMES
    return DEFAULT_THEMES

# Экспортируем список тем
POST_THEMES = get_themes() 